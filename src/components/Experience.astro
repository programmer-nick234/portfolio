---
// Experience section â€” Premium animated experience cards
const experiences = [
  {
    role: "Chief Technology Officer (CTO)",
    company: "DailyDine",
    period: "2024 - Present",
    description: "Leading technology strategy, product development, and engineering team. Architecting scalable systems and driving innovation across the platform.",
    highlights: ["Technology Strategy", "Team Leadership", "Product Architecture", "AI Integration"],
    icon: "fas fa-crown",
    color: "#00f5ff",
  },
  {
    role: "Full Stack Developer",
    company: "Freelance & Open Source",
    period: "2023 - Present",
    description: "Building modern web applications using React, Next.js, and Node.js. Contributing to open-source projects and developing production-grade solutions.",
    highlights: ["React/Next.js", "Node.js/Express", "database Design", "API Development"],
    icon: "fas fa-laptop-code",
    color: "#a855f7",
  },
  {
    role: "AI/ML Engineer",
    company: "Personal Projects & Research",
    period: "2024 - Present",
    description: "Researching and implementing machine learning models for real-world applications. Exploring supervised/unsupervised learning, NLP, and computer vision.",
    highlights: ["Python/Scikit-learn", "Data Analysis", "Model Training", "Research"],
    icon: "fas fa-brain",
    color: "#ec4899",
  },
];
---

<section id="experience" class="relative py-20 sm:py-28 overflow-hidden">
  <!-- Section dividers -->
  <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#00f5ff]/20 to-transparent"></div>
  
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
    <!-- Section Header -->
    <div class="text-center mb-16 sm:mb-20" data-animate="fade-up">
      <span class="inline-block text-xs uppercase tracking-[0.3em] text-[#00f5ff] mb-4 font-medium">Career Path</span>
      <h2 class="section-title text-[#f0f0f0] mb-4">
        Work <span class="gradient-text">Experience</span>
      </h2>
      <p class="section-subtitle mx-auto">
        Building products and leading teams across different domains
      </p>
    </div>

    <!-- Experience Timeline -->
    <div class="relative">
      <!-- Animated vertical line -->
      <div class="absolute left-6 sm:left-8 top-0 bottom-0 w-px bg-white/5">
        <div class="experience-line absolute top-0 left-0 w-full bg-gradient-to-b from-[#00f5ff] via-[#a855f7] to-[#ec4899]" style="height: 0%;"></div>
      </div>

      <!-- Experience Items -->
      <div class="space-y-8 sm:space-y-12">
        {experiences.map((exp, index) => (
          <div class="experience-item relative pl-16 sm:pl-20" data-animate="fade-left" data-animate-delay={(index * 0.2).toString()}>
            <!-- Timeline dot -->
            <div class="absolute left-4 sm:left-6 top-2 w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 bg-[#050505] z-10 transition-all duration-500" style={`border-color: ${exp.color};`}>
              <div class="absolute inset-0 rounded-full animate-ping opacity-20" style={`background: ${exp.color};`}></div>
            </div>

            <!-- Card -->
            <div class="glass-card rounded-2xl p-5 sm:p-7 hover:scale-[1.01] transition-all duration-500 group">
              <!-- Header -->
              <div class="flex flex-wrap items-start gap-3 mb-4">
                <div class="w-10 h-10 rounded-xl flex items-center justify-center" style={`background: ${exp.color}10; border: 1px solid ${exp.color}20;`}>
                  <i class={`${exp.icon} text-sm`} style={`color: ${exp.color};`}></i>
                </div>
                <div class="flex-1 min-w-0">
                  <h3 class="text-base sm:text-lg font-bold text-[#f0f0f0] group-hover:text-white transition-colors">{exp.role}</h3>
                  <p class="text-sm text-[#8a8a8a]">{exp.company}</p>
                </div>
                <span class="text-[11px] font-mono px-3 py-1 rounded-full bg-white/[0.03] text-[#555] border border-white/5 flex-shrink-0">{exp.period}</span>
              </div>

              <!-- Description -->
              <p class="text-[#8a8a8a] text-sm leading-relaxed mb-5">{exp.description}</p>

              <!-- Highlights -->
              <div class="flex flex-wrap gap-2">
                {exp.highlights.map((highlight) => (
                  <span class="px-3 py-1 text-[11px] font-medium rounded-lg text-[#8a8a8a] transition-all duration-300 hover:text-white" style={`background: ${exp.color}08; border: 1px solid ${exp.color}15;`}>
                    {highlight}
                  </span>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<script>
  // Animate timeline line on scroll
  const expLine = document.querySelector('.experience-line') as HTMLElement;
  if (expLine) {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          expLine.style.transition = 'height 2s cubic-bezier(0.16, 1, 0.3, 1)';
          expLine.style.height = '100%';
        }
      });
    }, { threshold: 0.1 });

    const section = document.getElementById('experience');
    if (section) observer.observe(section);
  }
</script>

<style>
  .experience-item .glass-card::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 16px;
    padding: 1px;
    background: linear-gradient(135deg, transparent, rgba(0, 245, 255, 0.15), transparent);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.5s ease;
    pointer-events: none;
  }

  .experience-item:hover .glass-card::after {
    opacity: 1;
  }

  .experience-item:hover .glass-card {
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4), 0 0 25px rgba(0, 245, 255, 0.04);
  }
</style>
