---
// Skills section component — Interactive tilt cards with animated progress
const skills = [
  {
    category: "Programming Languages",
    icon: "fas fa-code",
    color: "#00f5ff",
    items: [
      { name: "Python", icon: "fab fa-python", level: 95 },
      { name: "JavaScript", icon: "fab fa-js-square", level: 90 },
      { name: "Dart", icon: "fas fa-code", level: 65 },
      { name: "C", icon: "fas fa-microchip", level: 60 },
      { name: "HTML5", icon: "fab fa-html5", level: 92 },
      { name: "CSS3", icon: "fab fa-css3-alt", level: 88 },
    ]
  },
  {
    category: "Web Technologies",
    icon: "fas fa-globe",
    color: "#a855f7",
    items: [
      { name: "React.js", icon: "fab fa-react", level: 88 },
      { name: "Next.js", icon: "fas fa-code", level: 80 },
      { name: "Tailwind CSS", icon: "fas fa-palette", level: 92 },
      { name: "Django", icon: "fab fa-python", level: 75 },
      { name: "Express.js", icon: "fab fa-node-js", level: 82 },
      { name: "RESTful APIs", icon: "fas fa-server", level: 85 },
    ]
  },
  {
    category: "Machine Learning",
    icon: "fas fa-brain",
    color: "#ec4899",
    items: [
      { name: "Scikit-learn", icon: "fas fa-chart-line", level: 82 },
      { name: "Pandas", icon: "fas fa-table", level: 88 },
      { name: "NumPy", icon: "fas fa-calculator", level: 85 },
      { name: "Matplotlib", icon: "fas fa-chart-bar", level: 80 },
      { name: "Supervised ML", icon: "fas fa-brain", level: 78 },
      { name: "Unsupervised ML", icon: "fas fa-network-wired", level: 72 },
    ]
  },
  {
    category: "Databases & Cloud",
    icon: "fas fa-cloud",
    color: "#22d3ee",
    items: [
      { name: "MongoDB", icon: "fas fa-leaf", level: 78 },
      { name: "Firebase", icon: "fas fa-fire", level: 75 },
      { name: "MySQL", icon: "fas fa-database", level: 70 },
      { name: "AWS", icon: "fab fa-aws", level: 72 },
      { name: "Docker", icon: "fab fa-docker", level: 68 },
      { name: "Git", icon: "fab fa-git-alt", level: 90 },
    ]
  },
];
---

<section id="skills" class="relative py-20 sm:py-28 overflow-hidden">
  <!-- Section background accent -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#00f5ff]/20 to-transparent"></div>
    <div class="absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[#a855f7]/20 to-transparent"></div>
  </div>

  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
    <!-- Section Header -->
    <div class="text-center mb-16 sm:mb-20" data-animate="fade-up">
      <span class="inline-block text-xs uppercase tracking-[0.3em] text-[#00f5ff] mb-4 font-medium">What I Work With</span>
      <h2 class="section-title text-[#f0f0f0] mb-4">
        Skills & <span class="gradient-text">Technologies</span>
      </h2>
      <p class="section-subtitle mx-auto">
        A comprehensive toolkit for building modern applications — from frontend interfaces to machine learning models
      </p>
    </div>

    <!-- Skills Categories -->
    <div class="space-y-16 sm:space-y-20">
      {skills.map((category, catIndex) => (
        <div data-animate="fade-up" data-animate-delay={(catIndex * 0.15).toString()}>
          <!-- Category Header -->
          <div class="flex items-center gap-3 mb-8">
            <div class="w-10 h-10 rounded-xl flex items-center justify-center" style={`background: ${category.color}10; border: 1px solid ${category.color}20;`}>
              <i class={`${category.icon} text-sm`} style={`color: ${category.color};`}></i>
            </div>
            <div>
              <h3 class="text-lg sm:text-xl font-bold text-[#f0f0f0]">{category.category}</h3>
            </div>
            <div class="flex-1 h-px ml-4" style={`background: linear-gradient(90deg, ${category.color}20, transparent);`}></div>
          </div>
          
          <!-- Skills Grid -->
          <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4" data-stagger="0.05">
            {category.items.map((skill) => (
              <div class="skill-card group glass-card rounded-xl p-4 sm:p-5 text-center hover:scale-[1.02] transition-all duration-500">
                <!-- Icon -->
                <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl mx-auto mb-3 flex items-center justify-center transition-all duration-500 group-hover:scale-110 group-hover:shadow-lg" style={`background: ${category.color}08; border: 1px solid ${category.color}15;`}>
                  <i class={`${skill.icon} text-xl sm:text-2xl transition-all duration-500`} style={`color: ${category.color};`}></i>
                </div>
                
                <!-- Name -->
                <h4 class="text-[#f0f0f0] font-medium text-xs sm:text-sm mb-3 group-hover:text-white transition-colors duration-300">{skill.name}</h4>
                
                <!-- Progress Bar -->
                <div class="w-full h-1 bg-white/5 rounded-full overflow-hidden">
                  <div 
                    class="skill-progress h-full rounded-full transition-all duration-1000 ease-[cubic-bezier(0.16,1,0.3,1)]"
                    style={`width: 0%; background: linear-gradient(90deg, ${category.color}, ${category.color}80);`}
                    data-level={skill.level}
                  ></div>
                </div>
                <span class="text-[10px] text-[#555] mt-1 block font-mono">{skill.level}%</span>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  // Animate skill bars on scroll
  const skillObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const bars = entry.target.querySelectorAll('.skill-progress');
        bars.forEach((bar, index) => {
          const el = bar as HTMLElement;
          const level = el.dataset.level || '0';
          setTimeout(() => {
            el.style.width = level + '%';
          }, index * 100);
        });
        skillObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.2 });

  document.querySelectorAll('#skills [data-stagger]').forEach(grid => {
    skillObserver.observe(grid);
  });
</script>

<style>
  .skill-card {
    transform-style: preserve-3d;
    perspective: 500px;
    position: relative;
  }

  .skill-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 12px;
    padding: 1px;
    background: linear-gradient(135deg, transparent, transparent);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.5s ease;
    pointer-events: none;
  }

  .skill-card:hover::before {
    background: linear-gradient(135deg, rgba(0, 245, 255, 0.3), rgba(168, 85, 247, 0.3));
    opacity: 1;
  }

  .skill-card:hover {
    border-color: rgba(0, 245, 255, 0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 245, 255, 0.05);
  }
</style>
