---
// Contact section component with email redirect
---

<section id="contact" class="py-24 bg-dark-bg relative overflow-hidden">
  <!-- Background Effects -->
  <div class="absolute inset-0">
    <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-neon-cyan/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-neon-purple/5 rounded-full blur-3xl"></div>
  </div>

  <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <!-- Main Contact Card -->
    <div class="bg-dark-card/80 backdrop-blur-sm border border-dark-border/50 rounded-3xl p-8 lg:p-12 shadow-2xl shadow-black/20">
      <!-- Heading -->
      <div class="text-center mb-10">
        <div class="inline-flex items-center justify-center w-16 h-16 bg-neon-cyan/10 rounded-2xl mb-6">
          <i class="fas fa-comments text-2xl text-neon-cyan"></i>
        </div>
        <h2 class="text-4xl lg:text-5xl font-bold text-text-primary mb-6 bg-gradient-to-r from-text-primary to-neon-cyan bg-clip-text text-transparent">
          Hey there!
        </h2>
        <p class="text-text-secondary text-lg leading-relaxed max-w-xl mx-auto">
          Got a project in mind? Want to collaborate? Or just want to say hi? Drop me a message and I'll get back to you as soon as possible!
        </p>
      </div>

      <!-- Social Links Row -->
      <div class="flex flex-wrap justify-center gap-8 mb-10">
        <a
          href="mailto:nikhilbajantri86@gmail.com"
          class="group flex items-center space-x-3 px-4 py-3 bg-dark-bg/50 border border-dark-border/50 rounded-xl hover:border-neon-cyan/50 hover:bg-neon-cyan/5 transition-all duration-300 transform hover:scale-105"
        >
          <div class="w-10 h-10 bg-neon-cyan/10 rounded-lg flex items-center justify-center group-hover:bg-neon-cyan/20 transition-colors duration-300">
            <i class="fas fa-envelope text-neon-cyan"></i>
          </div>
          <div class="text-left">
            <div class="text-text-secondary text-sm font-medium">Email</div>
            <div class="text-text-primary text-sm">nikhilbajantri86@gmail.com</div>
          </div>
        </a>
        
        <a
          href="https://github.com/programmer-nick234/"
          class="group flex items-center space-x-3 px-4 py-3 bg-dark-bg/50 border border-dark-border/50 rounded-xl hover:border-neon-cyan/50 hover:bg-neon-cyan/5 transition-all duration-300 transform hover:scale-105"
          target="_blank"
          rel="noopener noreferrer"
        >
          <div class="w-10 h-10 bg-neon-cyan/10 rounded-lg flex items-center justify-center group-hover:bg-neon-cyan/20 transition-colors duration-300">
            <i class="fab fa-github text-neon-cyan"></i>
          </div>
          <div class="text-left">
            <div class="text-text-secondary text-sm font-medium">GitHub</div>
            <div class="text-text-primary text-sm">@programmer-nick234</div>
          </div>
        </a>
        
        <a
          href="https://www.linkedin.com/in/nikhil-bajantri-dev"
          class="group flex items-center space-x-3 px-4 py-3 bg-dark-bg/50 border border-dark-border/50 rounded-xl hover:border-neon-cyan/50 hover:bg-neon-cyan/5 transition-all duration-300 transform hover:scale-105"
          target="_blank"
          rel="noopener noreferrer"
        >
          <div class="w-10 h-10 bg-neon-cyan/10 rounded-lg flex items-center justify-center group-hover:bg-neon-cyan/20 transition-colors duration-300">
            <i class="fab fa-linkedin text-neon-cyan"></i>
          </div>
          <div class="text-left">
            <div class="text-text-secondary text-sm font-medium">LinkedIn</div>
            <div class="text-text-primary text-sm">nikhil-bajantri-dev</div>
          </div>
        </a>
      </div>

      <!-- Contact Form Card -->
      <div class="bg-dark-bg/60 backdrop-blur-sm border border-dark-border/50 rounded-2xl p-8 shadow-xl">
        <form 
          class="space-y-6" 
          id="contactForm"
        >
          <div class="grid md:grid-cols-2 gap-6">
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                <i class="fas fa-envelope text-text-muted text-sm"></i>
              </div>
              <input
                type="email"
                id="email"
                name="email"
                class="w-full pl-10 pr-4 py-4 bg-dark-card/50 border border-dark-border/50 rounded-xl text-text-primary placeholder-text-muted focus:border-neon-cyan focus:bg-dark-card focus:outline-none transition-all duration-300"
                placeholder="developer@domain.com"
                required
              />
            </div>
            
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                <i class="fas fa-user text-text-muted text-sm"></i>
              </div>
              <input
                type="text"
                id="name"
                name="name"
                class="w-full pl-10 pr-4 py-4 bg-dark-card/50 border border-dark-border/50 rounded-xl text-text-primary placeholder-text-muted focus:border-neon-cyan focus:bg-dark-card focus:outline-none transition-all duration-300"
                placeholder="Developer X"
                required
              />
            </div>
          </div>
          
          <div class="relative">
            <div class="absolute top-4 left-4 flex items-center pointer-events-none">
              <i class="fas fa-comment text-text-muted text-sm"></i>
            </div>
            <textarea
              id="message"
              name="message"
              rows="5"
              class="w-full pl-10 pr-4 py-4 bg-dark-card/50 border border-dark-border/50 rounded-xl text-text-primary placeholder-text-muted focus:border-neon-cyan focus:bg-dark-card focus:outline-none transition-all duration-300 resize-none"
              placeholder="What's up?"
              required
            ></textarea>
          </div>
          
          <div class="flex justify-end pt-4">
            <button
              type="submit"
              id="submitBtn"
              class="group relative px-8 py-4 bg-gradient-to-r from-neon-cyan to-neon-purple text-dark-bg font-semibold rounded-xl hover:from-neon-purple hover:to-neon-cyan transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-neon-cyan/25 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden"
            >
              <span class="relative z-10 flex items-center space-x-2">
                <i class="fas fa-paper-plane"></i>
                <span id="submitText">Send Message</span>
              </span>
              <div class="absolute inset-0 bg-gradient-to-r from-neon-purple to-neon-cyan opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            </button>
          </div>
        </form>
        
        <!-- Message Container -->
        <div id="messageContainer" class="mt-6 hidden">
          <div id="successMessage" class="hidden p-4 bg-green-900/20 border border-green-500/30 rounded-xl text-green-400 backdrop-blur-sm">
            <i class="fas fa-check-circle mr-2"></i>
            <span id="successText"></span>
          </div>
          <div id="errorMessage" class="hidden p-4 bg-red-900/20 border border-red-500/30 rounded-xl text-red-400 backdrop-blur-sm">
            <i class="fas fa-exclamation-circle mr-2"></i>
            <span id="errorText"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Contact form handling
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contactForm') as HTMLFormElement;
    const submitBtn = document.getElementById('submitBtn') as HTMLButtonElement;
    const submitIcon = document.getElementById('submitIcon') as HTMLElement;
    const submitText = document.getElementById('submitText') as HTMLElement;
    const messageContainer = document.getElementById('messageContainer') as HTMLElement;
    const successMessage = document.getElementById('successMessage') as HTMLElement;
    const errorMessage = document.getElementById('errorMessage') as HTMLElement;
    const successText = document.getElementById('successText') as HTMLElement;
    const errorText = document.getElementById('errorText') as HTMLElement;
    
    function showMessage(type: 'success' | 'error', message: string) {
      if (!messageContainer || !successMessage || !errorMessage || !successText || !errorText) return;
      
      // Hide all messages first
      messageContainer.classList.add('hidden');
      successMessage.classList.add('hidden');
      errorMessage.classList.add('hidden');
      
      // Show the appropriate message
      messageContainer.classList.remove('hidden');
      if (type === 'success') {
        successText.textContent = message;
        successMessage.classList.remove('hidden');
      } else {
        errorText.textContent = message;
        errorMessage.classList.remove('hidden');
      }
      
      // Auto-hide after 5 seconds
      setTimeout(() => {
        messageContainer.classList.add('hidden');
      }, 5000);
    }
    
    function setLoadingState(loading: boolean) {
      if (!submitBtn || !submitIcon || !submitText) return;
      
      if (loading) {
        submitBtn.disabled = true;
        submitIcon.className = 'fas fa-spinner fa-spin mr-2';
        submitText.textContent = 'Sending...';
      } else {
        submitBtn.disabled = false;
        submitIcon.className = 'fas fa-paper-plane mr-2';
        submitText.textContent = 'Send Message';
      }
    }
    
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Set loading state
        setLoadingState(true);
        
        try {
          // Get form data
          const formData = new FormData(form);
          
          // Get form values
          const email = formData.get('email') as string;
          const name = formData.get('name') as string;
          const message = formData.get('message') as string;
          
          // Enhanced validation
          if (!email?.trim() || !name?.trim() || !message?.trim()) {
            showMessage('error', 'Please fill all the fields');
            setLoadingState(false);
            return;
          }
          
          // Email validation
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(email)) {
            showMessage('error', 'Please enter a valid email address');
            setLoadingState(false);
            return;
          }
          
          // Create email body
          const subject = `Portfolio Contact from ${name}`;
          const body = `Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`;
          
          // Create mailto link
          const mailtoLink = `mailto:nikhilbajantri86@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
          
          // Show success message
          showMessage('success', 'Opening your email client...');
          
          // Open email client
          setTimeout(() => {
            window.open(mailtoLink, '_blank');
          }, 1000);
          
          // Reset form
          form.reset();
          
        } catch (error) {
          console.error('Contact form error:', error);
          showMessage('error', 'Sorry, something went wrong. Please try again.');
        } finally {
          setLoadingState(false);
        }
      });
    }
  });
</script>
